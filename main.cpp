#include <iostream>
#include "Game.h"

using namespace std;

int main()
{
    unsigned char player = {2};
    int posX = 1, posY = 1;
    int choice;
    unsigned char action;
    unsigned char maze[20][20] =
    {
                                                                                             //X
        {'#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#'},   //0
        {'>',' ','#',' ',' ',' ',' ','#','#','#','#',' ',' ',' ',' ','#',' ',' ',' ','#'},   //1
        {'#',' ','#','#','#','#',' ',' ',' ',' ',' ',' ','#','#',' ',' ',' ','#',' ','#'},   //2
        {'#',' ',' ',' ',' ','#','#','#',' ','#','#','#','#','#','#',' ','#','#',' ','#'},   //3
        {'#','#','#','#',' ',' ',' ',' ',' ','#',' ',' ',' ',' ',' ',' ',' ','#',' ','#'},   //4
        {'#',' ','#','#','#','#','#','#','#','#',' ','#','#','#','#','#','#','#',' ','#'},   //5
        {'#',' ','#','#','#',' ',' ',' ',' ',' ',' ','#','#','#',' ',' ',' ',' ',' ','#'},   //6
        {'#',' ','#','#',' ',' ','#','#','#','#','#','#',' ',' ',' ','#','#','#','#','#'},   //7
        {'#',' ','#',' ',' ','#','#',' ',' ',' ',' ',' ',' ','#','#','#',' ',' ',' ','#'},   //8
        {'#',' ',' ',' ','#','#','#','#','#','#','#','#','#','#','#',' ',' ','#',' ','#'},   //9
        {'#',' ','#',' ',' ','#','#',' ',' ',' ',' ',' ',' ',' ',' ',' ','#','#',' ','#'},   //0
        {'#',' ','#','#',' ',' ','#','#',' ',' ','#','#','#','#','#','#','#','#',' ','#'},   //1
        {'#',' ','#','#','#',' ',' ','#','#',' ',' ','#','#','#','#','#','#',' ',' ','#'},   //2
        {'#',' ','#','#','#','#',' ',' ','#','#',' ',' ','#','#','#','#','#',' ','#','#'},   //3
        {'#',' ','#','#','#','#','#',' ',' ','#','#',' ',' ','#','#',' ',' ',' ','#','#'},   //4
        {'#',' ','#','#','#','#','#','#',' ',' ','#','#',' ',' ','#',' ','#','#','#','#'},   //5
        {'#',' ','#','#','#','#','#','#','#',' ',' ','#','#',' ','#',' ','#','#','#','#'},   //6
        {'#',' ','#','#','#','#','#','#','#','#',' ','#','#',' ','#',' ','#','#','#','#'},   //7
        {'#',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','#',' ',' ',' ',' ','>'},   //8
        {'#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#'},   //9
    };
    //Y   0   1   2   3   4   5   6   7   8   9   0   1   2   3   4   5   6   7   8   9

    Game gma;
    cout << "1) Play the maze." << endl;
    cout << "2) quit." << endl;
    cout << endl;
    cout << "Select [1-2]: ";
    cin >> choice;

    if (choice == 1)
    {
        cout << "Control your player using WASD." << endl;
        cout << endl;

        while (action != 'P'|| 'p' )
        {
            maze [posX][posY] = player;

            for(int y = 0; y < 20; y++)
            {
                cout << endl;
                for(int x = 0; x < 20; x++)
                {
                    cout << maze[y][x];
                }
            }

            pair<int,int> result = gma.playerAction(maze, posX, posY, player);
            posX = result.first;
            posY = result.second;
        }
    }
    if (choice == 2)
    {
        cout << "Goodbye" << endl;
        exit(0);
    }
    return 0;
}
